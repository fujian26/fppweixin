<!--pages/school/search/search.wxml-->
<basebar centerText="查学校"></basebar>
<view class="hflex-container top-search">
  <image src="/images/search-school-location.png" />
  <view class="name">{{location}}</view>
  <view class="hflex-container search round">
    <text class="cuIcon-search" style="font-size: 32rpx; color: #cccccc"></text>
    <input type="text" placeholder="请输入要查询的学校" confirm-type="search" style="font-size: 24rpx; margin-left: 8rpx;"
      placeholder-style="color: #cccccc" bindconfirm="searchConfirm"></input>
  </view>
</view>

<scroll-view scroll-y="true" class="scrollPage" style="background-color: #f6f6f6">

  <!-- 导航 -->
  <scroll-view scroll-x="true">
    <view class="tabbar">
      <view wx:for="{{tabs}}" class="item" data-index="{{index}}" bindtap="tapOnTab" wx:key="id">
        <view class="name" style="color: {{currentIndex == index}} ? #3E66D5 : #666666">{{item.name}}</view>
        <view wx:if="{{currentIndex == index}}" class="line"></view>
      </view>
    </view>
  </scroll-view>

  <image class="ad" />

  <!-- 推荐 -->
  <scroll-view class="school" wx:if="{{currentIndex == 0}}" scroll-y="true" refresher-enabled="true">
    <view class="vflex-container">
      <view class="item" wx:for="{{recommonds}}" wx:key="id" data-id="{{item.school.id}}">
        <!-- 内容 -->
        <view class="content">
          <view>
            <image style="margin-top: 4rpx" src="{{item.pics[0]}}" />
            <image class="tag" src="{{item.tagSrc}}" />
          </view>
          <view class="vflex-container" style="flex: 1; margin-left: 28rpx; align-items: flex-start">
            <!-- 学校名称 -->
            <view class="name">{{item.school.name}}</view>
            <!-- 性质、区域 -->
            <view class="label">性质：{{item.nature}} 区域：{{item.area}}</view>
            <view class="label">电话：{{item.school.phone}}</view>
            <view class="label addr">
              <view>地址：{{item.addr}}</view>
              <view style="flex: 1"></view>
              <image wx:if="{{item.distanceStr != null && item.distanceStr != ''}}" src="/images/search_location.png"
                style="width: 16rpx; height: 18rpx;" />
              <view class="location">{{item.distanceStr}}</view>
            </view>
          </view>
        </view>

        <!-- 分割线 -->
        <view class="line"></view>
      </view>
    </view>
  </scroll-view>

  <!-- 热门 -->
  <scroll-view class="school" wx:if="{{currentIndex == 1}}" scroll-y="true" refresher-enabled="true">
    <view class="vflex-container">
      <view class="item" wx:for="{{hots}}" wx:key="id" data-id="{{item.school.id}}">
        <!-- 内容 -->
        <view class="content">
          <view>
            <image style="margin-top: 4rpx" src="{{item.pics[0]}}" />
            <image class="tag" src="{{item.tagSrc}}" />
          </view>
          <view class="vflex-container" style="flex: 1; margin-left: 28rpx; align-items: flex-start">
            <!-- 学校名称 -->
            <view class="name">{{item.school.name}}</view>
            <!-- 性质、区域 -->
            <view class="label">性质：{{item.nature}} 区域：{{item.area}}</view>
            <view class="label">电话：{{item.school.phone}}</view>
            <view class="label addr">
              <view>地址：{{item.addr}}</view>
              <view style="flex: 1"></view>
              <image wx:if="{{item.distanceStr != null && item.distanceStr != ''}}" src="/images/search_location.png"
                style="width: 16rpx; height: 18rpx;" />
              <view class="location">{{item.distanceStr}}</view>
            </view>
          </view>
        </view>

        <!-- 分割线 -->
        <view class="line"></view>
      </view>
    </view>
  </scroll-view>

</scroll-view>